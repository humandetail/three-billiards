1. ### **1. 球桌基础尺寸**

   | 参数         | 值（米） | 说明                             |
   | :----------- | :------- | :------------------------------- |
   | **球桌总长** | 2.84 m   | 含库边外沿的总长度               |
   | **球桌总宽** | 1.56 m   | 含库边外沿的总宽度               |
   | **台面内长** | 2.54 m   | 实际击球区域长度（库边内沿间距） |
   | **台面内宽** | 1.27 m   | 实际击球区域宽度                 |
   | **库边高度** | 0.038 m  | 库边凸出台面的高度（约3.8厘米）  |
   | **球桌高度** | 0.85 m   | 台面到地面的高度                 |

   ------

   ### **2. 球袋位置（相对台面中心坐标系）**

   中式八球桌有 **6个球袋**：4个角袋 + 2个中袋。坐标系原点 `(0,0)` 在台面中心，X轴为长边方向，Y轴为宽边方向。

   | 球袋名称     | 坐标（米）        | 计算公式                                                     |
   | :----------- | :---------------- | :----------------------------------------------------------- |
   | **左上角袋** | `(-1.27, 0.635)`  | 长边方向：`-内长/2 + 袋口偏移` 宽边方向：`内宽/2 - 袋口偏移` |
   | **右上角袋** | `(1.27, 0.635)`   | 长边方向：`+内长/2 - 袋口偏移` 宽边方向：`内宽/2 - 袋口偏移` |
   | **左下角袋** | `(-1.27, -0.635)` | 长边方向：`-内长/2 + 袋口偏移` 宽边方向：`-内宽/2 + 袋口偏移` |
   | **右下角袋** | `(1.27, -0.635)`  | 长边方向：`+内长/2 - 袋口偏移` 宽边方向：`-内宽/2 + 袋口偏移` |
   | **左中袋**   | `(-1.27, 0)`      | 长边方向：`-内长/2 + 袋口偏移` 宽边方向：`0`                 |
   | **右中袋**   | `(1.27, 0)`       | 长边方向：`+内长/2 - 袋口偏移` 宽边方向：`0`                 |

   #### **袋口偏移量**：

   - **角袋**：距台面内沿约 `0.0635 m`（6.35厘米），即袋口中心到库边的距离。
   - **中袋**：距台面内沿约 `0.0635 m`，与角袋一致。

   ------

   ### **3. 袋口尺寸**

   | 参数         | 值（米）    | 说明                     |
   | :----------- | :---------- | :----------------------- |
   | **开口直径** | 0.085 m     | 袋口入口宽度（≈8.5厘米） |
   | **袋深**     | 0.12~0.15 m | 球袋内部深度             |

   ------

   ### **4. 物理引擎建模示例（CANNON.js）**

   #### **球桌边框定义**

   ```js
   const tableLength = 2.54 // 台面内长
   const tableWidth = 1.27 // 台面内宽
   const cushionHeight = 0.038 // 库边高度

   // 创建台面边框（长方体形状）
   const tableBody = new CANNON.Body({
     mass: 0, // 静态物体
     position: new CANNON.Vec3(0, cushionHeight / 2, 0), // 台面中心
   })

   // 添加长边库边（左右两侧）
   tableBody.addShape(new CANNON.Box(new CANNON.Vec3(tableLength / 2, cushionHeight / 2, 0.1)), new CANNON.Vec3(0, 0, tableWidth / 2)) // 右库边
   tableBody.addShape(new CANNON.Box(new CANNON.Vec3(tableLength / 2, cushionHeight / 2, 0.1)), new CANNON.Vec3(0, 0, -tableWidth / 2)) // 左库边

   // 添加短边库边（前后两侧）
   tableBody.addShape(new CANNON.Box(new CANNON.Vec3(0.1, cushionHeight / 2, tableWidth / 2)), new CANNON.Vec3(tableLength / 2, 0, 0)) // 前库边
   tableBody.addShape(new CANNON.Box(new CANNON.Vec3(0.1, cushionHeight / 2, tableWidth / 2)), new CANNON.Vec3(-tableLength / 2, 0, 0)) // 后库边
   ```

   #### **球袋触发区域（简化模型）**

   ```js
   const pocketRadius = 0.0425 // 袋口半径（开口直径/2）

   // 左上角袋
   const pocket1 = new CANNON.Body({
     mass: 0,
     position: new CANNON.Vec3(-1.27, 0, 0.635),
     shape: new CANNON.Sphere(pocketRadius),
     isTrigger: true, // 设为触发器，不参与碰撞
   })
   ```

   ------

   ### **5. 单位转换参考**

   | 参数     | 英制单位 | 公制单位（米） |
   | :------- | :------- | :------------- |
   | 台面内长 | 8.33英尺 | 2.54 m         |
   | 台面内宽 | 4.17英尺 | 1.27 m         |
   | 袋口偏移 | 2.5英寸  | 0.0635 m       |
   | 袋口直径 | 3.35英寸 | 0.085 m        |

   ------

   ### **注意事项**

   1. **坐标系对齐**：建议将台面中心设为原点 `(0,0,0)`，Z轴为长边方向，Y轴为垂直方向。

   2. **摩擦与弹性**：台呢材质参数可参考：

      - 摩擦系数：0.15~0.25（滑动摩擦）
      - 恢复系数：0.7~0.85（库边弹性）

   3. **球袋判定**：在物理引擎中，球袋通常通过触发器检测球的进入，而非实际碰撞形状。

   4. 物理材质参数建议

      | 参数         | 库边      | 球袋边缘 |
      | :----------- | :-------- | :------- |
      | **摩擦系数** | 0.1~0.15  | 0.05~0.1 |
      | **恢复系数** | 0.75~0.85 | 0.3~0.5  |
      | **滚动摩擦** | 0.01      | 0.005    |

### **1. 台面厚度（石板层）**

| 参数         | 值（米）      | 说明                                                       |
| :----------- | :------------ | :--------------------------------------------------------- |
| **石板厚度** | 0.03~0.04 m   | 标准台面石板（花岗岩或人造石）                             |
| **台呢厚度** | 0.002~0.004 m | 羊毛台呢（仅需在物理引擎中通过摩擦系数模拟，无需单独建模） |

------

### **2. 库边结构厚度**

库边包含 **垂直方向高度** 和 **横向结构厚度**，需分开定义：

| 参数             | 值（米）    | 说明                                           |
| :--------------- | :---------- | :--------------------------------------------- |
| **库边高度**     | 0.038 m     | 从台面到库边顶部的垂直高度（已在前文给出）     |
| **库边横向厚度** | 0.05~0.08 m | 库边木材或橡胶结构的横向宽度（垂直于台面方向） |

#### **库边建模示例（CANNON.js）**

javascript

复制

下载

```
// 库边横向厚度为 0.06 m
const cushionThickness = 0.06;

// 右库边（长边）
const rightCushion = new CANNON.Body({ mass: 0 });
rightCushion.addShape(
  new CANNON.Box(new CANNON.Vec3(
    tableLength/2,         // 长边方向半长（与台面内长一致）
    cushionHeight/2,       // 高度半长（库边高度 0.038 m）
    cushionThickness/2     // 横向厚度半长（0.06/2=0.03 m）
  )),
  new CANNON.Vec3(
    0,
    cushionHeight/2,       // 位置：库边顶部与台面平齐
    tableWidth/2 + cushionThickness/2 // 向外侧偏移厚度的一半
  )
);
```

------

### **3. 球桌支撑结构厚度**

| 参数             | 值（米）    | 说明                       |
| :--------------- | :---------- | :------------------------- |
| **桌腿截面尺寸** | 0.08x0.08 m | 木质桌腿（通常为方形截面） |
| **边框木材厚度** | 0.05~0.1 m  | 外围装饰性框架的厚度       |

#### **支撑结构建模建议**

- 若仅需物理碰撞模拟（球不会与支撑结构互动），可忽略此部分。
- 若需完整建模（如球意外掉落撞击桌腿），可用长方体表示：

javascript

复制

下载

```
// 桌腿建模（右下角）
const leg = new CANNON.Body({
  mass: 0,
  position: new CANNON.Vec3(
    tableLength/2 + 0.1,  // 稍微超出库边
    -0.4,                 // 地下部分高度
    -tableWidth/2 - 0.1   // 外侧偏移
  )
});
leg.addShape(new CANNON.Box(new CANNON.Vec3(0.04, 0.4, 0.04))); // 0.08x0.8x0.08 m
```

------

### **4. 完整台球桌参数整合**

| 结构     | 参数               | 值（米）       |
| :------- | :----------------- | :------------- |
| **台面** | 内长 × 内宽 × 厚度 | 2.54×1.27×0.03 |
| **库边** | 单边厚度 × 高度    | 0.06×0.038     |
| **桌腿** | 截面尺寸 × 高度    | 0.08×0.08×0.8  |

------

### **5. 物理引擎实现要点**

#### **层级碰撞体组合**

将库边拆分为 **主体 + 弧边**：

javascript

复制

下载

```
const cushionBody = new CANNON.Body({ mass: 0 });

// 主体部分（长方体）
cushionBody.addShape(
  new CANNON.Box(new CANNON.Vec3(1.27, 0.019, 0.03)), // 半长尺寸
  new CANNON.Vec3(0, 0.019, 0.635 + 0.03) // 位置
);

// 弧边过渡（凸包或组合球体）
const arcPoints = [
  new CANNON.Vec3(-0.05, 0, 0),
  new CANNON.Vec3(-0.04, 0, 0.01),
  new CANNON.Vec3(-0.03, 0, 0.02),
  // ... 其他顶点
];
cushionBody.addShape(
  new CANNON.ConvexPolyhedron(arcPoints, [[0,1,2], ...]),
  new CANNON.Vec3(1.27, 0, 0.635)
);
```

#### **材质参数**

javascript

复制

下载

```
// 库边材质（橡胶）
const cushionMaterial = new CANNON.Material();
cushionMaterial.friction = 0.15;
cushionMaterial.restitution = 0.8;

// 石板材质（高硬度）
const slateMaterial = new CANNON.Material();
slateMaterial.friction = 0.2;
slateMaterial.restitution = 0.1; // 实际弹性由台呢主导
```

------

### **6. 注意事项**

1. **性能优化**
   - 非必要结构（如装饰性边框）可用单一长方体简化。
   - 弧形部分分段数不超过 8 段。
2. **视觉对齐**
   物理碰撞体需与 3D 模型严格匹配，避免“穿模”。
3. **单位验证**
   始终检查 CANNON.js 中的单位是否为米-千克-秒（MKS）。

<!-- 帮我从这个文档生成一个ts文件 -->

export const config = {
  table: {
    length: 2.54,
    width: 1.27,
    height: 0.03,
  },
